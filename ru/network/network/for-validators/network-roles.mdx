---
- title: Роли в сети
- description: Понимание сетевого протокола через его активных участников
---

<Warning>
  Mantle v2 Tectonic был выпущен, пожалуйста, перейдите к новой [documentation](https://docs-v2.mantle.xyz/)!
</Warning>

## Определение ролей в сети

В настоящее время в сети Mantle существует четыре роли для узлов, а именно **Sequencers**, **Threshold Signature Scheme (TSS) nodes**, **Rollup Verifiers/Replica Nodes, и Data Availability (DA) nodes**. Вот простое описание их обязанностей.

### Sequencers

* Получают и записывают транзакции, отправленные пользователями в реальном времени
* Создают блоки на L2
* Сворачивают транзакции для создания пакетов с корнями состояния выполнения
* Получают блоки, проверенные модулем TSS
* Распространяют данные блоков по сети (L1 и L2)

<Info>
  На начальных этапах выпуска основная команда Mantle будет управлять своим собственным централизованным Sequencer. Однако, в рамках нашей дорожной карты мы в конечном итоге децентрализуем Sequencer, создавая еще одну возможность для узлов внести свой вклад в Mantle.
</Info>

### Узлы схемы пороговой подписи (TSS)

* "Подписывают" пакеты транзакций, созданные Sequencers, для отправки на L1
* Распространяют пакеты по сети L2 после проверки

<Info>
  Узлы TSS проверяют корни состояния, сгенерированные Sequencers, чтобы определить их правильность. Корни состояния **ДОЛЖНЫ** быть подписаны узлом TSS, прежде чем они будут отправлены в Ethereum для записи.
</Info>

<Info>
  На начальных этапах выпуска узлы TSS управляются группой авторитетных учреждений, но в конечном итоге будут избираться через управление Mantle без разрешения.
</Info>

### Верификаторы роллапов / Узлы-реплики

* Синхронизируют данные роллапа от доверенного sequencer Mantle
* Проверяют корни состояния, отправленные Sequencers на L2
* Инициируют доказательства мошенничества при обнаружении недействительных данных состояния
* Предоставляют данные роллапа пользователям

<Info>
  Доказательства мошенничества являются частью нашей [roadmap](/network/network/introduction/architecture-and-roadmap#roadmap), и эта функция будет добавлена в конечном итоге через обновление Mainnet.
</Info>

### Узлы DA

* Принимают на себя ответственность за хранение копии данных транзакций Mantle, чтобы они были готовы к доступу при необходимости
* Берут на себя обязательство, подписывая предоставляемые ими данные блока с использованием [схемы подписи BLS](https://en.wikipedia.org/wiki/BLS_digital_signature), гарантируя их пригодность к использованию. Эти подписи проверяются контрактом EigenDA на Ethereum

<Info>
  Узнайте больше в разделе [Data Availability](/ru/network/network/introduction/concepts/data-availability).
</Info>

Mantle DA, работающий на технологии EigenDA, состоит из набора поддерживаемых взаимодействий между четырьмя основными компонентами, описанными ниже.

<Frame caption="">
  <img src="https://docs.mantle.xyz/~gitbook/image?url=https%3A%2F%2F3701411312-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FNHXgeqhgrznnRobzznxl%252Fuploads%252FAsnGr1cXLy9Og1JIVxE8%252Fupdated%2520da%2520interaction.jpg%3Falt%3Dmedia%26token%3D1718a0e4-4941-4255-a886-c8c5af2fdfef&width=768&dpr=4&quality=100&sign=4935a0e1&sv=2" />
</Frame>

#### Операторы

Поставщики услуг сети DA, которым необходимо подтвердить свое обязательство с помощью цифровых подписей, которые размещают заложенные активы в качестве залогового обеспечения их участия. Оператор выполняет следующие задачи:

* Запускает узлы, которые хранят фрагменты данных в течение заранее определенного периода времени и предоставляют эти фрагменты по запросу

#### Распространители

Они являются пользователями сервиса доступности данных Mantle DA, оплачивающими его экономические гарантии доступности данных. Эту роль может играть роллап [Sequencer](/ru/network/network/for-validators/network-roles#sequencers). Распространитель выполняет следующие задачи:

* Кодирует свои данные в фрагменты, размещает средства для обеспечения доступности данных на фиксированный период времени и распределяет закодированные фрагменты операторам Mantle DA
* Агрегирует подписи от операторов и размещает подтверждение в блокчейне, подтверждая доступность интересующих данных на указанный период времени

#### Претенденты

Это заинтересованные стороны, которые играют важную роль в протоколе Proof of Custody. Претенденты выполняют следующие задачи:

* Отслеживают определенные проверяемые операции протокола (которые в оптимистическом случае не проверяются и не разрешаются в сети)
* Без разрешения заставляют проблемные операции разрешаться в сети, что приводит к изъятию ставки оператора

<Info>
  Протокол Proof of Custody находится на стадии разработки и будет запущен с будущим обновлением Mainnet.
</Info>

#### `MantleLayer` и `MantleDA`Смарт-контракты

Набор смарт-контрактов, связанных с DA, работающих на Ethereum, выполняет следующие функции:

* Убедитесь, что данные принимаются как доступные только когда группа операторов, имеющих достаточное количество стейка, коллективно подписала их
* Реализовать протокол подтверждения хранения и предоставить механизмы для оспаривающего раскрывать данные в цепочке
* Проверять действительность данных, представленных Оспаривающими, по отношению к подписанному обязательству, и применять слэшинг в соответствии с протоколом подтверждения хранения

Процесс хранения данных на Mantle DA выглядит следующим образом:

1. Encoding: Disperser encodes data chunks and generates KZG multireveal proofs which will allow Operators to verify the correctness of their chunk.
2. Dispersal: Disperser sends data chunks to respective DA Operators
3. Attestation: Operators verify their chunks against the global commitment. If the verification is successful, the Operator proceeds to store their chunk of data for the duration specified by the Disperser and sends back an attestation
4. Aggregation: If enough signatures are received, the Disperser aggregates the signatures and publishes them to L1 Ethereum.

## **Зачем запускать узел верификации Rollup?**

Существует несколько преимуществ запуска узла верификации Rollup.

1. Это дает многие преимущества запуска узла Ethereum, такие как возможность локально симулировать транзакции L2**без ограничения скорост&#x438;**(публичные RPC могут сталкиваться с такими ограничениями)**.**
2. Позволяет любому проверить работу, выполненную Секвенсорами, путем**повторного вывода корней выходных данных**и**сравнения**их с теми, которые были представлены Секвенсором. В случае несоответствия, верификаторы смогут выполнить проверку ошибок и претендовать на вознаграждения, представляя доказательства мошенничества в будущих версиях Mainnet.

<Info>
  **dApp builders**рекомендуется рассмотреть добавленную ценность запуска узла верификации Rollup, учитывая, что накладные расходы, как правило, низкие.
</Info>

На диаграмме ниже показано, как Секвенсор и Верификатор Rollup взаимодействуют. Обратите внимание, что действия, отмеченные красным, выполняются**Sequencer**, в то время как действия, отмеченные синим, выполняются**Rollup Verifier**:

<Frame caption="">
  <img src="https://docs.mantle.xyz/~gitbook/image?url=https%3A%2F%2Flh4.googleusercontent.com%2FJV9Q7wwNHVZFhB2Cer5FX2dzZT_v6WtgcKvyLrXFLdp_QhuNYausSwCekBXGm-kNoT6KJrs1o9a3TaMMsKuntHLQwdBhrTVIVAeUBjJc5-KvyzFfeDh_oAADVbj_Ez4j4YvIrFSS3Av79OSpICMBB-Taj9evRc63PSlGamcJJhwAY9nChVSxJCD5Nc-fVA&width=768&dpr=4&quality=100&sign=d7da2555&sv=2" />
</Frame>
